(this["webpackJsonpexercise-1-mariad"]=this["webpackJsonpexercise-1-mariad"]||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),i=a.n(s),u=a(5),l=a(2),c=a.n(l),o=a(6),d=a(7),m=a(9),h=a(8),f=a(1),b=a(10),p=(a(17),function(e){return r.a.createElement("section",{className:"result-container"},r.a.createElement("p",{className:"result-container__txt"},"Riesgo: ",e.result),r.a.createElement("button",{className:"result-container__btn"},"M\xe1s informaci\xf3n"),r.a.createElement("p",{className:"result-container__details ".concat(e.detailsAreHidden?"hidden":null)},e.details))}),y=function(e){return fetch("https://cima.aemps.es/cima/rest/medicamentos?nombre="+e).then((function(e){return e.json()}))},v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).fetchDataBase=function(){var e,t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(fetch("./data/interactions.json"));case 2:return e=n.sent,n.next=5,c.a.awrap(e.json());case 5:t=n.sent,a.getInfo(t.interactions);case 7:case"end":return n.stop()}}))},a.onSubmitHandler=function(e){e.preventDefault(),a.fetchDataBase()},a.state={query1:"",query2:"",drug1:"",drug2:"",result:"",details:"",detailsAreHidden:!0},a.onSubmitHandler=a.onSubmitHandler.bind(Object(f.a)(a)),a.getInputValue=a.getInputValue.bind(Object(f.a)(a)),a.fetchDataBase=a.fetchDataBase.bind(Object(f.a)(a)),a.showDetails=a.showDetails.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getInfo",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;if(this.state.drug1===i.ingredient){var u=i;console.log(u);var l=u.affected_ingredient,c=!0,o=!1,d=void 0;try{for(var m,h=l[Symbol.iterator]();!(c=(m=h.next()).done);c=!0){var f=m.value;if(this.state.drug2===f.name){this.setState({result:f.severity,details:f.description});break}this.setState({result:"no hay info",details:"no hay info"})}}catch(b){o=!0,d=b}finally{try{c||null==h.return||h.return()}finally{if(o)throw d}}}}}catch(b){a=!0,n=b}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}},{key:"getInputValue",value:function(e){var t,a,n,r;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.target.name,a=e.target.value,this.setState(Object(u.a)({},t,a)),s.next=5,c.a.awrap(y(this.state.query1));case 5:return n=s.sent,s.next=8,c.a.awrap(y(this.state.query2));case 8:r=s.sent,n.resultados[0]&&r.resultados[0]?this.setState({drug1:n.resultados[0].vtm.nombre,drug2:r.resultados[0].vtm.nombre}):this.setState({drug1:"",drug2:"",result:"",details:""});case 10:case"end":return s.stop()}}),null,this)}},{key:"fetchCIMA",value:function(e){y(e).then((function(e){return e.resultados[0].vtm.nombre}))}},{key:"showDetails",value:function(){this.setState((function(e){return{detailsAreHidden:!e.detailsAreHidden}}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null),r.a.createElement("main",{className:"main"},r.a.createElement("form",{className:"form",onSubmit:this.onSubmitHandler},r.a.createElement("label",{className:"label"},"Introduzca los nombres de los medicamentos"),r.a.createElement("input",{className:"input",type:"text",name:"query1",value:this.state.query1,onChange:this.getInputValue}),r.a.createElement("input",{className:"input",type:"text",name:"query2",value:this.state.query2,onChange:this.getInputValue}),r.a.createElement("button",{className:"btn",type:"submit"},"Buscar")),this.state.result?r.a.createElement(p,{result:this.state.result,drug1:this.state.drug1,drug2:this.state.drug2,details:this.state.details,showDetails:this.showDetails,detailsAreHidden:this.state.detailsAreHidden}):null),r.a.createElement("footer",null))}}]),t}(r.a.Component);a(18);i.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.dbeb3226.chunk.js.map